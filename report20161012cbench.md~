# 情報ネットワーク学演習Ⅱ 10/5 レポート課題

## 課題内容 (Cbench のボトルネック調査)

Ruby のプロファイラで Cbench のボトルネックを解析しよう。

以下に挙げた Ruby のプロファイラのどれかを使い、Cbench や Trema のボトルネック部分を発見し遅い理由を解説してください。

##解答
まず初めに、１つの端末から以下のコマンドを実行した。

	ruby -r profile ./bin/trema run ./lib/cbench.rb &> result.txt

これにより、実行終了後にresult.txtファイルにプロファイルが書き込まれる。

次に、別の端末から以下のコマンドを実行した。

	./bin/cbench --port 6653 --switches 1 --loop 10 --ms-per-test 10000 --delay 1000 --throughput

これにより、cbenchのボトルネックの調査を行うことができる。
このプログラムが終了してから、１つ目の端末でCtrl-Cを押してプログラムの実行を終了させる。
このようにして、cbenchのボトルネック調査の結果がresult.txtに書き込まれる。
その結果の一部分を以下に示す。
